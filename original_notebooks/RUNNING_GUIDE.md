# Running Guide for Original Notebooks

## ⚠️ Disclaimer

These Jupyter notebooks represent the original, exploratory phase of the research project. They may contain hardcoded paths, outdated dependencies, and experimental code that is not guaranteed to run out-of-the-box. 

For a more stable, reproducible, and up-to-date version of this project, please refer to the `new_scripts` directory, which contains a refactored and improved implementation of this workflow.

## Environment Setup

You will need a Python environment with Jupyter Notebook or JupyterLab to run these notebooks. The following packages are required. Note that this list is based on an inspection of a subset of the notebooks and may be incomplete. You might need to install other packages as you execute the notebooks.

```bash
pip install jupyter
pip install tensorflow
pip install numpy
pip install matplotlib
pip install nibabel
pip install scikit-image
pip install connected-components-3d
pip install pandas
pip install openpyxl # For reading .xlsx files
```

## Suggested Running Order and Notebook Descriptions

The notebooks should be run in the following sequence to follow the data processing and modeling pipeline.

1.  **`Prepreprocess.ipynb`**
    *   **Purpose:** Likely contains initial data cleaning and preparation steps. It's recommended to start here.

2.  **`Demographics.ipynb`**
    *   **Purpose:** Analyzes and visualizes the demographic data of the patient cohorts, probably using the `ADNIMERGE.csv` and `PTDEMOG.csv` files.

3.  **`3D_preprocess.ipynb`**
    *   **Purpose:** This is a crucial step. It takes the raw 3D MRI scans (likely in NIFTI format), performs preprocessing including skull stripping and normalization, and saves the processed data as TensorFlow datasets. *You will likely need to adjust the hardcoded file paths in this notebook.*

4.  **`MCI_conversion_split.ipynb`**
    *   **Purpose:** Splits the Mild Cognitive Impairment (MCI) patient data into two groups: progressive MCI (pMCI), who convert to Alzheimer's Disease, and stable MCI (sMCI), who do not. This is a prerequisite for training the MCI conversion prediction model.

5.  **`3d_tuning_and_training.ipynb`**
    *   **Purpose:** Trains a 3D CNN model to classify between Alzheimer's Disease (AD) and Cognitively Normal (CN) subjects using the data generated by `3D_preprocess.ipynb`.

6.  **`kFold for MCI progression (106 converters, final version).ipynb` / `MCI to AD training.ipynb`**
    *   **Purpose:** These notebooks focus on training a model to predict the conversion from MCI to AD. The "kFold" notebook implements a cross-validation strategy for more robust evaluation.

7.  **`MonteCarlo for MCI.ipynb`**
    *   **Purpose:** Performs uncertainty analysis for the MCI conversion predictions, likely using Monte Carlo dropout techniques. This should be run after a conversion model has been trained.

8.  **`Metrics(new).ipynb`, `Heatmaps.ipynb`, `heatmaps_loops.ipynb`**
    *   **Purpose:** These notebooks are for model evaluation. They calculate various performance metrics and generate heatmaps (saliency maps) to visualize which brain regions are most important for the model's predictions.

9.  **`Time to conversion.ipynb`**
    *   **Purpose:** Conducts an analysis of the time it takes for MCI patients to convert to AD, correlating it with model predictions and other metadata.

10. **`Results dataset.ipynb`**
    *   **Purpose:** Consolidates the results from the various experiments and analyses into a final dataset, likely for reporting and paper writing. 